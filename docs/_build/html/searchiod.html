

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Search Capabilities &mdash; IDOL OnDemand Documentation 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="IDOL OnDemand Documentation 0.1 documentation" href="index.html"/>
        <link rel="prev" title="Welcome to IDOL OnDemand Documentation’s documentation!" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> IDOL OnDemand Documentation</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Search Capabilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#conceptual-search">Conceptual Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#facetted-search-and-field-matching">Facetted Search and Field Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numeric-search">Numeric Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geo-coordinate-search">Geo/Coordinate Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#date-search">Date Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-operations">Other Operations</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">IDOL OnDemand Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Search Capabilities</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/searchiod.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <p>This How To will highlight the operations available when doing searches
on IDOL OnDemand. For simplicity and to let you try the queries on IOD,
most of the examples below are assuming that the <strong>english Wikipedia
public dataset</strong> is being queried</p>
<div class="section" id="search-capabilities">
<h1>Search Capabilities<a class="headerlink" href="#search-capabilities" title="Permalink to this headline">¶</a></h1>
<div class="section" id="conceptual-search">
<h2>Conceptual Search<a class="headerlink" href="#conceptual-search" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Query Text Index API</strong> allows you to search for content in the
IDOL OnDemand databases. It leverages the power of IDOL to return
conceptually relevant results without requiring training but simply by
using a statistical understanding of the data and the terms within it.
The <strong>Get Parametric Values</strong>, <strong>Find related concepts</strong> and <strong>Find
Similar Documents</strong> Apis also make use of IDOL&#8217;s conceptual capabilities</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Red+Panda&amp;database_match=wiki_eng</code></dt>
<dd></dd></dl>

<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
<span class="s2">&quot;documents&quot;</span><span class="o">:</span><span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;reference&quot;</span><span class="o">:</span> <span class="s2">&quot;http://en.wikipedia.org/wiki/Red Panda Adventures&quot;</span><span class="p">,</span>
      <span class="s2">&quot;weight&quot;</span><span class="o">:</span> <span class="mf">84.59</span><span class="p">,</span>
      <span class="s2">&quot;links&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;RED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;PAND&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="s2">&quot;wiki_eng&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Red Panda Adventures&quot;</span><span class="p">,</span>
      <span class="s2">&quot;content&quot;</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;reference&quot;</span><span class="o">:</span> <span class="s2">&quot;http://en.wikipedia.org/wiki/Red panda&quot;</span><span class="p">,</span>
      <span class="s2">&quot;weight&quot;</span><span class="o">:</span> <span class="mf">84.59</span><span class="p">,</span>
      <span class="s2">&quot;links&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;RED&quot;</span><span class="p">,</span>
        <span class="s2">&quot;PAND&quot;</span>
      <span class="p">],</span>
      <span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="s2">&quot;wiki_eng&quot;</span><span class="p">,</span>
      <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Red panda&quot;</span><span class="p">,</span>
      <span class="s2">&quot;content&quot;</span><span class="o">:</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">]</span>
  <span class="p">}</span>
</pre></div>
</div>
<p>IDOL indexes assign weights to terms based on their relevance to the
dataset. As a simplified example, if every document in your index is
about <em>red</em> things, then the term <em>red</em> should not be as relevant in
your query than the term <em>Panda</em>. IDOL ranks result based on various
factors like the weights of the terms in the index, frequency within the
returned documents, stemmed proximity. However it does not operate on a
<em>match all terms</em> basis and actually operates better with more text
rather than less, documents will be returned based on how closely they
relate to the entire query .</p>
<p><strong>The Text Parameter</strong></p>
<p>As we notice in the above query, the <em>text</em> parameter is a common
parameter to all the APIs mentioned above and is the source of all the
conceptual term matching and weighting that IDOL OnDemand applies to the
results.</p>
<div class="section" id="search-operators">
<h3>Search Operators<a class="headerlink" href="#search-operators" title="Permalink to this headline">¶</a></h3>
<p><strong>Wildcard search</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Obam*</code></dt>
<dd></dd></dl>

<p>the <code class="docutils literal"><span class="pre">*</span></code> operator operates as the usual wildcard operator. In our
example we search for any term that start with Obam. <strong>Tip:</strong> don&#8217;t run
it on letters such as <code class="docutils literal"><span class="pre">a*</span></code> as the query will take a long time to
return.</p>
<p><strong>Occurence search</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Gene[3:5]</code></dt>
<dd></dd></dl>

<p>By specifying a column separated range of numbers within curly brackets,
we are able to specify the number of occurences we are looking for. In
this example, only the documents containing Gene between 3 and 5 times
will be returned.</p>
<p><strong>Exact Term Match</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=&quot;lovely&quot;</code></dt>
<dd></dd></dl>

<p>By putting a term in between quotes, you can ensure that the exact
version of the word will be looked for and not other versions that share
the same stem like <em>lovely, love, loved, loving</em> etc.</p>
<p><strong>Exact Match - Case Sensitivity</strong> &gt; /querytextindex/v1?text=&#8221;~Apple&#8221;</p>
<p>The <code class="docutils literal"><span class="pre">~</span></code> character can be used within quotes to ensure case
sensitivity. In our case we only want to return documents that have
Apple capitalized.</p>
<p><strong>Phrase search</strong> &gt; /querytextindex/v1?text=&#8221;Red+Panda&#8221;</p>
<p>Quotes enable exact <em>phrase</em> search.</p>
</div>
<div class="section" id="boolean-operators">
<h3>Boolean Operators<a class="headerlink" href="#boolean-operators" title="Permalink to this headline">¶</a></h3>
<p><strong>Boolean Operators</strong></p>
<p>The text Parameter offers a level of boolean search or bracketed boolean
Search.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=&quot;Red+Panda&quot; **AND** Elephant</code></dt>
<dd></dd></dl>

<p>Boolean operator need to be capitalized , we can search for documents
containing both red pandas and elephants.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=(Panda **OR** Elephant) **AND** Lion</code></dt>
<dd></dd></dl>

<p>We can use brackets to group together elements and ensure the correct
order in which the operators should be applied. In this casee want any
document that mentions lions AND either pandas or elephants</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=cat **XOR** dog</code></dt>
<dd></dd></dl>

<p>XOR stands for exclusive OR and will return documents that contain
either <em>cat</em> or <em>dog</em> but NOT the two at the same time</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=cat **NOT** dog</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=(cat **NOT** dog) **OR** (dog **NOT** cat)</code></dt>
<dd></dd></dl>

<p>The NOT operator can restrict your searches NOT to include certain
terms. In the example above we show how to return documents about cats
that don&#8217;t include dog in the result. The second example shows how to
replicate an XOR without the NOT and OR operator</p>
<p>Further information on Boolean Operators is available in the
documentation section of the site : <a class="reference external" href="https://www.idolondemand.com/developer/docs/BooleanProximityOperators.html">Boolean and Proximity
Operators</a></p>
</div>
<div class="section" id="proximity-and-order-operators">
<h3>Proximity and order Operators<a class="headerlink" href="#proximity-and-order-operators" title="Permalink to this headline">¶</a></h3>
<p><strong>Sentence and Paragraph search</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=cat SENTENCE dog /querytextindex/v1?text=cat</code></dt>
<dt>
<code class="descname">PARAGRAPH dog</code></dt>
<dd></dd></dl>

<p>The <em>SENTENCE</em> and <em>PARAGRAPH</em> operators allow you to make sure that two
terms you are searching for are either in the same sentence or the same
paragraph.</p>
<p><strong>Order Operators</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=cat BEFORE dog /querytextindex/v1?text=cat</code></dt>
<dt>
<code class="descname">AFTER dog</code></dt>
<dd></dd></dl>

<p>The <em>BEFORE</em> and <em>AFTER</em> operators act like the <em>AND</em> operator and
ensures that both terms are in the document result but it also will
check that cat appears <em>BEFORE</em> dog or <em>AFTER</em> dog in the 2nd case.</p>
<p><strong>Term Proximity</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=(monkey NEAR4 red)</code></dt>
<dd></dd></dl>

<p>The NEAR<em>N</em> allows you to specify a maximum word distance between the
terms you are querying for. In our example, the words monkey and red
need to be within 4 words of each other. This allows us to make sure
that the term red is associated closely with the term spider, returning
documents such as <em>Red-tailed monkey</em> or <em>Red-faced spider monkey</em></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=(red DNEAR3 monkey)</code></dt>
<dd></dd></dl>

<p>DNEAR<em>N</em> is in fact a directed NEAR<em>N</em> , it ensures that the terms
appear in that order like the <em>BEFORE</em> operator , but also restricts the
number of words that can appear in between.</p>
<p>NEAR<em>N</em> and DNEAR<em>N</em> are very useful to associate adjectives with
nouns as doing an exact search for <em>&#8220;Red monkey&#8221;</em> won&#8217;t return
<em>Red-tailed Monkey</em> and an unrestricted search for <em>red AND monkey</em> will
return any document that include both terms , i.e. a red berry that is
eaten by monkeys.</p>
</div>
<div class="section" id="advanced-search-operations">
<h3>Advanced Search operations<a class="headerlink" href="#advanced-search-operations" title="Permalink to this headline">¶</a></h3>
<p><strong>Precedence of operators</strong></p>
<p>Boolean and Proximity operators will be applied in the following order:</p>
<div class="highlight-python"><div class="highlight"><pre>First:      NOT
                 NEAR; DNEAR; XNEAR; YNEAR
                 AND; BEFORE; AFTER; WHEN; SENTENCE; PARAGRAPH
Last:       OR; WNEAR; EOR
</pre></div>
</div>
<p>Operators that have the same level of precedence have neither left or
right associativity. You should use brackets to bind terms together as
appropriate. Proximity operators must have terms on either side and
cannot be adjacent to brackets.</p>
<p><strong>Searching specific index fields</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=galaxy:DRETITLE /querytextindex/v1?text=(&quot;LA</code></dt>
<dt>
<code class="descname">galaxy&quot;):DRETITLE /querytextindex/v1?text=(&quot;LA galaxy&quot;):DRETITLE AND</code></dt>
<dt id="Beckham">
<code class="descname">Beckham</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Beckham" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A column separating your search terms or bracketed search function will
ensure that only the specified <em>index type</em> field is used. These field
specific searches can also be used within more complicated boolean
formulae.</p>
<p><strong>Using multipliers to modify term weights</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Red Panda[*5]</code></dt>
<dd></dd></dl>

<p>You can adjust the weight of a specific term by specifying a multipliers
by which the weight of the term in your query will be multiplied. In our
example we want Panda to have 5 times its usual weight. It can be useful
if we get too many results about Red things that aren&#8217;t really about
Pandas.</p>
<p><strong>Setting manual term weights at the query level</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Red[10] Panda[20]</code></dt>
<dd></dd></dl>

<p>It is also possible to set manual weights through the use of square
brackets. In our case we are setting the weight of the term Panda to 20
and the weight of the term Red to 10.</p>
<p><strong>Applying weights to bracketed expressions</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text= (Spider Monkey)[*3] OR Tiger</code></dt>
<dd></dd></dl>

<p>We can multiply the weights of any bracketed expression to adjust
relevance , in this case we assign a triple weight to spider and monkey
terms.</p>
</div>
</div>
<div class="section" id="facetted-search-and-field-matching">
<h2>Facetted Search and Field Matching<a class="headerlink" href="#facetted-search-and-field-matching" title="Permalink to this headline">¶</a></h2>
<p>Documents generally do not only contain free text, but also custom
fields like category tags, prices, authors, or any other value that may
be relevant to associate with the text. In this section we will have a
look at the different types of values and how they can be used.</p>
<p><strong>The fieldtext Parameter</strong></p>
<p>All of the IDOL APIs that include the text parameter for conceptual
search also have a <em>fieldtext=</em> parameter. This parameter is where the
user can define rules and restrictions that need to apply on these
custom fields of the documents.</p>
<div class="section" id="facets-parametric-fields">
<h3>Facets - Parametric Fields<a class="headerlink" href="#facets-parametric-fields" title="Permalink to this headline">¶</a></h3>
<p>Wikipedia data contains some fields of type Parametric, these are fields
which have values that can be listed and counted based on a query using
the <strong>Get Parametric Values API</strong>.</p>
<p>The parametric fields available are <em>wikipedia_type</em>,
<em>person_profession</em> for people, <em>place_country_code</em> for places,
<em>company_exchange</em> for companies</p>
<p>The <strong>Get Parametric Values API</strong> allows us to retrieve the unique
values that occur in a particular field, which can then be used to
provide faceted search.</p>
<p>For example, with a color parametric field, you can use te API to
retrieve all the color values that occur in a search, and the
corresponding counts. A common use for this information is to provide
filters to a search</p>
<dl class="function">
<dt>
<code class="descname">/getparametricvalues/v1?index=wiki_eng&amp;field_name=wikipedia_type</code></dt>
<dd></dd></dl>

<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;WIKIPEDIA_TYPE&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;PERSON&quot;</span><span class="o">:</span> <span class="mi">1126163</span><span class="p">,</span>
    <span class="s2">&quot;PLACE&quot;</span><span class="o">:</span> <span class="mi">515896</span><span class="p">,</span>
    <span class="s2">&quot;MUSICAL ALBUM&quot;</span><span class="o">:</span> <span class="mi">113211</span><span class="p">,</span>
    <span class="s2">&quot;SPECIES&quot;</span><span class="o">:</span> <span class="mi">242170</span><span class="p">,</span>
    <span class="s2">&quot;COMPANY&quot;</span><span class="o">:</span> <span class="mi">77766</span><span class="p">,</span>
    <span class="s2">&quot;FILM&quot;</span><span class="o">:</span> <span class="mi">94852</span><span class="p">,</span>
    <span class="s2">&quot;SONG&quot;</span><span class="o">:</span> <span class="mi">55061</span><span class="p">,</span>
    <span class="s2">&quot;BOOK&quot;</span><span class="o">:</span> <span class="mi">46433</span><span class="p">,</span>
    <span class="s2">&quot;VIDEO GAME&quot;</span><span class="o">:</span> <span class="mi">16559</span><span class="p">,</span>
    <span class="s2">&quot;GEOGRAPHICAL FEATURE&quot;</span><span class="o">:</span> <span class="mi">90180</span><span class="p">,</span>
    <span class="s2">&quot;PLAY&quot;</span><span class="o">:</span> <span class="mi">6670</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this example we use the wikipedia dataset and the WIKIPEDIA_TYPE to
offer total counts for each WIKIPEDIA_TYPE Value.</p>
<p><strong>Facetted Search</strong></p>
<p>The <strong>Get Parametric Values API</strong> offers many of the search
functionalities of the <strong>Query Text Index API</strong> such as the <em>text=</em>
parameter as well as the <em>fieldtext=</em> operator, which will discuss
further in this How To</p>
<p>This means that if I want to run the same query as above but only on
documents about cats and dogs, I would simply have to run</p>
<dl class="function">
<dt>
<code class="descname">/getparametricvalues/v1?index=wiki_eng&amp;field_name=wikipedia_type&amp;**text=** cats AND dogs</code></dt>
<dt>
<code class="descname">.. code-block:: javascript</code></dt>
<dd><blockquote>
<div><dl class="docutils">
<dt>{</dt>
<dd><dl class="first docutils">
<dt>&#8220;WIKIPEDIA_TYPE&#8221;: {</dt>
<dd>&#8220;PERSON&#8221;: 32738,
&#8220;MUSICAL ALBUM&#8221;: 4885,
&#8220;BOOK&#8221;: 3704,
&#8220;FILM&#8221;: 6012,
&#8220;COMPANY&#8221;: 3119,
&#8220;SONG&#8221;: 2079,
&#8220;VIDEO GAME&#8221;: 1158,
&#8220;PLACE&#8221;: 6280,
&#8220;GEOGRAPHICAL FEATURE&#8221;: 1302,
&#8220;SPECIES&#8221;: 2835,
&#8220;PLAY&#8221;: 441</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</dd></dl>

<p>These fields can be used in search implementations to provide a list of
all the available values for certain queries so that queries can then be
filtered based on these <em>facets</em></p>
</div>
<div class="section" id="text-match-selectors">
<h3>Text match selectors<a class="headerlink" href="#text-match-selectors" title="Permalink to this headline">¶</a></h3>
<p><strong>Matching a single value</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;**fieldtext=** MATCH{PERSON}:WIKIPEDIA_TYPE</code></dt>
<dd></dd></dl>

<p>Since we have shown above that PERSON is a parametric entry for the
WIKIPEDIA_TYPE field, we can run a search for all the documents that
relate to painting that are of type <em>PERSON</em>.</p>
<dl class="function">
<dt>
<code class="descname">/getparametricvalues/v1?index=wiki_eng&amp;field_name=**person_profession** &amp;text=painting&amp; **fieldtext=** MATCH{PERSON}:WIKIPEDIA_TYPE</code></dt>
<dd></dd></dl>

<p>The previous query did not give us all the <em>painters</em> however, so we can
run another parametric query to find the list of the professions that
get returned from our query of Persons related to painting.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;PERSON_PROFESSION&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;PAINTER&quot;</span><span class="o">:</span> <span class="mi">4409</span><span class="p">,</span>
    <span class="s2">&quot;PHOTOGRAPHER&quot;</span><span class="o">:</span> <span class="mi">52</span><span class="p">,</span>
    <span class="p">...</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It seems Painter is the value that we want</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;**fieldtext=** MATCH{PERSON}:WIKIPEDIA_TYPE</code></dt>
<dt>
<code class="descname">**AND** MATCH{PAINTER}:PERSON_PROFESSION</code></dt>
<dd></dd></dl>

<p>While it may be redundant in this case, as the entries with a
PERSON_PROFESSION should also be of type PERSON, we can use boolean
operators in the fieltext parameter. Our example if finally retrieving
all the Painters related to <em>painting</em> .</p>
<p><strong>Matching multiple values</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;**fieldtext=** MATCHALL{PAINTER,SCULPTOR}:PERSON_PROFESSION</code></dt>
<dd></dd></dl>

<p>It could be that we want to get all the people who were BOTH painters
and sculptors, the MATCHALL operator ensure that each of the values
specified has a match in the documents returned.</p>
<p><strong>Matching a value exclusively</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;**fieldtext=** MATCHCOVER{PAINTER}:PERSON_PROFESSION</code></dt>
<dd></dd></dl>

<p>Should we want the people who were ONLY painters, the MATCHCOVER
specifier will make sure that all values of the PERSON_PROFESSION field
match <em>PAINTER</em></p>
<p><strong>Excluding Matches</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;**fieldtext=** NOTMATCH{PAINTER}:PERSON_PROFESSION</code></dt>
<dd></dd></dl>

<p>NOTMATCH does what it says, the value specified will NOT be present in
any of the specified fields for the results returned.</p>
</div>
</div>
<div class="section" id="numeric-search">
<h2>Numeric Search<a class="headerlink" href="#numeric-search" title="Permalink to this headline">¶</a></h2>
<p>When dealing with Numeric type fields, many numeric operations are
possible</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**GREATER{1000000}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<p>We can look for places with more than a million people.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**LESS{100000}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<p>We can look for places with less than 100000 people.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**EQUAL{1061235}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<p>We can look for documents with population exactly equal to 1061235.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**NRANGE{12,26}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<p>We can look for documents with population between 12 and 26</p>
</div>
<div class="section" id="geo-coordinate-search">
<h2>Geo/Coordinate Search<a class="headerlink" href="#geo-coordinate-search" title="Permalink to this headline">¶</a></h2>
<p>Numeric fields can define many things, like population or prices,
however, two numeric fields paired together can also indicate
coordinates.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext= **DISTCARTESIAN** {40,-100,2}:X:Y</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext= **DISTCARTESIAN** {x,y,radius}:X:Y</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext= **DISTSPHERICAL** {40,-100,2}:LAT:LON</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext= **DISTSPHERICAL** {lat,lon,radius in KM}:LAT:LON</code></dt>
<dd></dd></dl>

<p>Places indexed in the wikipedia dataset have LAT and LON fields,
indicating their approximate coordinates. DISTCARTESIAN will treat the
coordinates as it would in a two-dimensional plane with the distance
being the units on that plane. However DISTSPHERICAL will assume it is
provided spherical coordinates and a radius in KM, it is very useful to
find places in the vicinity of another.</p>
</div>
<div class="section" id="date-search">
<h2>Date Search<a class="headerlink" href="#date-search" title="Permalink to this headline">¶</a></h2>
<p>Date fields allow for useful date filtering on the results.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**GTNOW{}**:CREATED_DATE</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**LTNOW{}**:CREATED_DATE</code></dt>
<dd></dd></dl>

<p><em>GTNOW</em> and <em>LTNOW</em> let you restrict for articles created in the past ,
or the future !</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**RANGE{-7,0}**:CREATED_DATE</code></dt>
<dd></dd></dl>

<p>The RANGE operator lets you specify exact time range for which the
specified DATE field will be checked against. In our example we want
CREATED_DATE to be within 7 days in the past.</p>
<p>Other allowed date syntaxes are as below:</p>
<ul class="simple">
<li><em>D+/M+/#YY+</em> , <em>HH:NN:SS D+/M+/#YY+</em> <em>HH:NN:SS D+/M+/#YY+ #ADBC</em> Are
allowed date formats for the operator</li>
<li>N : for number of days , as in the example above</li>
<li>Ne : for epoch times</li>
<li>Ns : for a negative or positive number of seconds from now.</li>
</ul>
</div>
<div class="section" id="other-operations">
<h2>Other Operations<a class="headerlink" href="#other-operations" title="Permalink to this headline">¶</a></h2>
<p><strong>Boolean operators in fieldtext</strong></p>
<p>The fieldtext operator supports the three basic boolean operators NOT,
AND and OR.</p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=Painting&amp;fieldtext=MATCH{PERSON}:WIKIPEDIA_TYPE **AND** MATCH{PAINTER}:PERSON_PROFESSION</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**GREATER{1000000}**:PLACE_POPULATION **OR** **DISTCARTESIAN** {50,-10,2}:LAT:LON</code></dt>
<dd></dd></dl>

<p><strong>Field Existence</strong></p>
<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**EXISTS{}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<code class="descname">/querytextindex/v1?text=*&amp;fieldtext=**EMPTY{}**:PLACE_POPULATION</code></dt>
<dd></dd></dl>

<p>The EXISTS Operator allows us to ensure that a field is present in the
result. Here we are only returning documents that have the field
PLACE_POPULATION. The oppositve EMPTY will return results if the field
value is empty or if the field doesn&#8217;t exist.</p>
<p>Note: NOT+EXISTS{} will return results only if the field doesn&#8217;t exist (
an empty value counts as EXISTS )</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to IDOL OnDemand Documentation’s documentation!"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Martin Zerbib.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>